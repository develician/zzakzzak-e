exports.ids=[0],exports.modules={264:function(e,t){},265:function(e,t){},281:function(e,t){},282:function(e,t){},283:function(e,t){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=(a(264),function(e){var t=e.children;return r.a.createElement("div",{className:"TweetsTemplate"},t)}),s=a(26),l=a.n(s),i=a(40),o=a(35),u=a(36),m=a(38),d=a(37),p=a(39),h=a(24),f=a(114),v=a(53),g=(a(265),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).textareaRef=r.a.createRef(),a.handleButtonClick=function(){a.textareaRef.current.focus(),a.props.onWrite()},a.handleKeyUp=function(e){e.ctrlKey&&13===e.keyCode&&a.handleButtonClick()},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.fields,a=e.logged,n=e.onChange,c=t.name,s=t.password,l=t.text;return r.a.createElement("div",{className:"TweetWrite"},r.a.createElement("textarea",{ref:this.textareaRef,value:l,onChange:n,onKeyUp:this.handleKeyUp,name:"text",placeholder:"무슨 생각을 하고 계신가요?"}),r.a.createElement("div",{className:"wrapper"},!a&&r.a.createElement("div",{className:"inputs"},r.a.createElement("input",{type:"text",value:c,onChange:n,name:"name",placeholder:"이름"}),r.a.createElement("input",{type:"password",value:s,onChange:n,name:"password",placeholder:"비밀번호"})),r.a.createElement("button",{disabled:""===l||!a&&s.length<6,onClick:this.handleButtonClick},"작성")))}}]),t}(n.Component));var w=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){var t=a.props.changeInput,n=e.target;t({field:n.name,value:n.value})},a.handleWrite=Object(i.a)(l.a.mark(function e(){var t,n,r,c,s,i,o,u;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props,n=t.fields,r=t.changeInput,c=t.writeTweet,s=t.getRecent,i=n.name,o=n.password,u=n.text){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,r({field:"text",value:""}),e.next=8,c({name:i||"이름없음",pass:o,text:u});case 8:return e.next=10,s({cursor:a.props.firstId,recent:!0});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0);case 15:case"end":return e.stop()}},e,this,[[4,12]])})),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.fields,a=e.user;return r.a.createElement(g,{onChange:this.handleChange,fields:t,onWrite:this.handleWrite,logged:!!a})}}]),t}(n.Component),b=Object(h.b)(function(e){var t=e.write,a=e.user,n=e.tweets;return{fields:t.fields,firstId:n.list&&n.list.length>0&&n.list[0]._id,user:a.user}},{writeTweet:f.c,changeInput:f.a,getRecent:v.getRecent})(w),E=a(10),x=a(288),N=a(286),y=a(52),j=a(266),O=a.n(j),k=a(278),C=a.n(k),I=a(289),T=(a(281),function(e){var t=e.tweet,a=(e.onRemove,e.currentUser),n=t.writer,c=t.tags,s=(t._id,t.text),l=t.createdAt,i=c.map(function(e){return r.a.createElement(I.a,{to:"/tags/".concat(e),className:"tag-item",key:e},e)}),o=n.anonymous||!n.anonymous&&a===n.name;return r.a.createElement("div",{className:"TweetItem"},r.a.createElement("div",{className:"tweet-head"},r.a.createElement("div",{className:"writerr"},n.anonymous?r.a.createElement("span",{className:"anonymous-name"},n.name,r.a.createElement("span",{className:"hash"},"(",n.ipHash,")")):r.a.createElement(I.a,{to:"/users/".concat(n.name),className:"username"},n.name)),r.a.createElement("div",{className:"date"},O()(l,{locale:C.a,addSuffix:!0})),o&&r.a.createElement("div",{className:"remove"},"[삭제]")),r.a.createElement("div",{className:"text"},s),c.length>0&&r.a.createElement("div",{className:"tags"},i))});T.defaultProps={tweet:{writerr:{name:"velopert",anonymous:!0,ipHash:"888bf"},tags:[],_id:"5b76ce2920cbfe1fcfc4ebc8",text:"안녕하세요.\n내용입니다.",createdAt:"2018-08-17T13:31:21.644Z",__v:0}};var U=T,R=(a(282),function(e){var t=e.tweets,a=e.currentUser,n=e.onRemove;if(!t||0===t.length)return null;var c=t.map(function(e){return r.a.createElement(U,{key:e._id,tweet:e,currentUser:a,onRemove:n})});return r.a.createElement("div",{className:"TweetItemList"},c)}),A=(a(283),function(){return r.a.createElement("div",{className:"Loading"},r.a.createElement("div",{className:"bounce1"}),r.a.createElement("div",{className:"bounce2"}),r.a.createElement("div",{className:"bounce3"}))});var _=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).lastCursor=null,a.timeoutId=null,a.recentUpdater=function(){a.timeoutId&&clearTimeout(a.timeoutId),a.timeoutId=setTimeout(function(){var e=a.props,t=e.TweetActions,n=e.match.params,r=n.tag,c=n.username;t.getRecent({cursor:a.props.firstId,recent:!0,tag:r,username:c}),a.recentUpdater()},3e4)},a.initialize=Object(i.a)(l.a.mark(function e(){var t,n,r,c,s;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.TweetActions,r=t.match.params,c=r.tag,s=r.username,e.prev=2,e.next=5,n.getInitial({username:s,tag:c});case 5:a.recentUpdater(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[2,8]])})),a.handleScroll=Object(N.a)(function(){Object(y.b)()<350&&a.getNext()},250),a.getNext=function(){var e=a.props,t=e.TweetActions,n=e.lastId,r=e.loadingNext,c=e.end,s=e.match;if(!r&&!c&&a.lastCursor!==n){var l=s.params,i=l.tag,o=l.username;t.getNext({cursor:n,tag:i,username:o}),a.lastCursor=n}},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.initialize(),window.addEventListener("scroll",this.handleScroll)}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.username===e.match.params.username&&this.props.match.params.tag===e.match.params.tag||this.initialize()}},{key:"componentWillUnmount",value:function(){window.addEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var e=this.props,t=e.list,a=e.username,c=e.loading,s=e.loadingNext;return c?r.a.createElement(A,null):r.a.createElement(n.Fragment,null,r.a.createElement(R,{tweets:t,currentUser:a}),s&&r.a.createElement(A,null))}}]),t}(n.Component),W=Object(E.d)(x.a,Object(h.b)(function(e){var t=e.tweets,a=e.user,n=e.pender;return{list:t.list,end:t.end,username:a.user&&a.user.username,loading:n.pending["tweets/GET_INITIAL"],lastId:t.list&&t.list.length>0&&t.list[t.list.length-1]&&t.list[t.list.length-1]._id,loadingNext:n.pending["tweets/GET_NEXT"]}},function(e){return{TweetActions:Object(E.b)(v,e)}}))(_);t.default=function(e){var t=e.match;return r.a.createElement(c,null,"/"===t.path&&r.a.createElement(b,null),r.a.createElement(W,null))}}};